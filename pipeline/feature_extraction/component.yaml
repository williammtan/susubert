name: Feature Extraction Function
description: Uses pretrained LM to extract features from the name of a list of products

inputs:
- {name: LM, type: String, description: 'Huggingface language model'}
- {name: Products, type: GCSPath, description: 'CSV file to products'}
outputs:
- {name: SaveIndex, type: LocalPath, description: 'Path to annoy index'}

implementation:
  container:
    image: gcr.io/food-id-app/susubert/feature-extraction@sha256:ff032d03d80078ef16f81847b925a9a642d826dcb9de32abfc26a7be0ae902b7
    command: [
      python, feature_extraction.py,

      --lm, {inputValue: LM},

      --products, {inputPath: Products},

      --save-index, {outputPath: SaveIndex},
    ]